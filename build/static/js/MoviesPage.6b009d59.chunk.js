(this["webpackJsonpgoit-react-hw-05-movies"]=this["webpackJsonpgoit-react-hw-05-movies"]||[]).push([[3],{17:function(e,t,n){"use strict";n.d(t,"e",(function(){return l})),n.d(t,"b",(function(){return b})),n.d(t,"a",(function(){return h})),n.d(t,"d",(function(){return f})),n.d(t,"c",(function(){return p}));var r=n(18),c=n.n(r),a=n(20),o="https://api.themoviedb.org/3",i="9acbfb2c2d25c0e79e1c43f46316bf58";function u(){return s.apply(this,arguments)}function s(){return s=Object(a.a)(c.a.mark((function e(){var t,n,r,a=arguments;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=a.length>0&&void 0!==a[0]?a[0]:"",n=a.length>1&&void 0!==a[1]?a[1]:{},e.next=4,fetch(t,n);case 4:if(!(r=e.sent).ok){e.next=11;break}return e.next=8,r.json();case 8:e.t0=e.sent,e.next=12;break;case 11:e.t0=Promise.reject(new Error("Not found"));case 12:return e.abrupt("return",e.t0);case 13:case"end":return e.stop()}}),e)}))),s.apply(this,arguments)}function l(){return u("".concat(o,"/trending/get-trending/week?api_key=").concat(i))}function b(e){return u("".concat(o,"/movie/").concat(e,"?api_key=").concat(i))}function h(e){return u("".concat(o,"/movie/").concat(e,"/credits?api_key=").concat(i))}function f(e){return u("".concat(o,"/movie/").concat(e,"/reviews?api_key=").concat(i))}function p(e){return u("".concat(o,"/search/movie?api_key=").concat(i,"&query=").concat(e))}},23:function(e,t,n){e.exports={Searchbar:"Searchbar_Searchbar__2B1xH",SearchForm:"Searchbar_SearchForm__1mDky",SearchFormButton:"Searchbar_SearchFormButton__10bug",SearchFormInput:"Searchbar_SearchFormInput__3njH_"}},31:function(e,t,n){"use strict";n.r(t);var r,c=n(4),a=n(0),o=n(1),i=n(5),u=n(27),s=(n(22),["title","titleId"]);function l(){return l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},l.apply(this,arguments)}function b(e,t){if(null==e)return{};var n,r,c=function(e,t){if(null==e)return{};var n,r,c={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(c[n]=e[n]);return c}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(c[n]=e[n])}return c}function h(e,t){var n=e.title,c=e.titleId,o=b(e,s);return a.createElement("svg",l({fill:"#000000",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 30 30",width:"30px",height:"30px",ref:t,"aria-labelledby":c},o),n?a.createElement("title",{id:c},n):null,r||(r=a.createElement("path",{d:"M 13 3 C 7.4889971 3 3 7.4889971 3 13 C 3 18.511003 7.4889971 23 13 23 C 15.396508 23 17.597385 22.148986 19.322266 20.736328 L 25.292969 26.707031 A 1.0001 1.0001 0 1 0 26.707031 25.292969 L 20.736328 19.322266 C 22.148986 17.597385 23 15.396508 23 13 C 23 7.4889971 18.511003 3 13 3 z M 13 5 C 17.430123 5 21 8.5698774 21 13 C 21 17.430123 17.430123 21 13 21 C 8.5698774 21 5 17.430123 5 13 C 5 8.5698774 8.5698774 5 13 5 z"})))}var f=a.forwardRef(h),p=(n.p,n(23)),j=n.n(p),m=n(2),d=function(e){var t=e.onSubmit,n=Object(a.useState)(""),r=Object(c.a)(n,2),o=r[0],i=r[1];return Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)("div",{className:j.a.Searchbar,children:Object(m.jsxs)("form",{onSubmit:function(e){e.preventDefault(),""!==o.trim()?(t(o),i("")):Object(u.b)("Enter your request")},className:j.a.SearchForm,children:[Object(m.jsx)("button",{type:"submit",className:j.a.SearchFormButton,children:Object(m.jsx)(f,{})}),Object(m.jsx)("input",{className:j.a.SearchFormInput,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search movies",value:o,onChange:function(e){i(e.currentTarget.value.toLowerCase())}})]})}),Object(m.jsx)(u.a,{autoClose:3e3,position:"top-center"})]})},O=n(17);t.default=function(e){e.newSearch;var t,n=Object(a.useState)(""),r=Object(c.a)(n,2),u=r[0],s=r[1],l=Object(a.useState)(null),b=Object(c.a)(l,2),h=b[0],f=b[1],p=Object(o.g)(),j=Object(o.f)();null===j.state&&(j.state={pathname:j.pathname,search:j.search});var v=null!==(t=new URLSearchParams(j.search).get("query"))&&void 0!==t?t:"",x=function(e){s(e),p("?query=".concat(e))};return Object(a.useEffect)((function(){v!==u&&s(v),""!==u&&O.c(u).then((function(e){f(e.results)}))}),[u,v]),h&&0===h.length?Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(d,{onSubmit:x}),Object(m.jsx)("p",{children:"No matches, try again!"})]}):Object(m.jsxs)(m.Fragment,{children:[Object(m.jsx)(d,{onSubmit:x}),Object(m.jsx)("ul",{children:h&&h.map((function(e){return Object(m.jsx)("li",{children:Object(m.jsx)(i.b,{to:"/movies/".concat(e.id),state:j.state,children:e.title})},e.id)}))})]})}}}]);
//# sourceMappingURL=MoviesPage.6b009d59.chunk.js.map